{
    "requiresCompatibilities": ["FARGATE"],
    "inferenceAccelerators": [],
    "containerDefinitions": [
        {
            "name": "arches",
            "image": "ecs-devops-sandbox-repository:00000",
            "resourceRequirements": null,
            "essential": true,
            "portMappings": [
                {
                    "containerPort": 443,
                    "protocol": "tcp"
                }
            ],
            "healthCheck": {
                "command": [
                    "CMD-SHELL",
                    "test $(echo | ps aux | grep -c manage.py) > 1 || exit 1"
                ]
            },
            "command": ["reset_database"],
            "environment": [
                {
                    "name": "ARCHES_ES_SECRET_ID",
                    "value": "prod/rascolls-ci/elastic"
                },
                {
                    "name": "ARCHES_DB_SECRET_ID",
                    "value": "archesDbSecretC996653C-H15qhWG0qSzA"
                },
                {
                    "name": "ARCHES_PUBLIC_SERVER_ADDRESS",
                    "value": "https://rascolls-ci.usw1.gci.fargeo.com"
                },
                {
                    "name": "ARCHES_SECRETS_MODE",
                    "value": "AWS"
                },
                {
                    "name": "ARCHES_S3FILEOVERWRITE",
                    "value": "False"
                },
                {
                    "name": "ARCHES_ALLOWED_HOSTS",
                    "value": "*"
                },
                {
                    "name": "ARCHES_ESPROTOCOL",
                    "value": "https"
                },
                {
                    "name": "ARCHES_ESVALIDATE",
                    "value": "False"
                },
                {
                    "name": "ARCHES_PROJECT",
                    "value": "arches-rascolls"
                },
                {
                    "name": "ARCHES_STORAGEBACKEND",
                    "value": "storages.backends.s3.S3Storage"
                },
                {
                    "name": "ARCHES_S3BUCKETNAME",
                    "value": "fargeo-rascolls-ci-media-files"
                },
                {
                    "name": "ARCHES_SECRET_KEY_ID",
                    "value": "/prod/rascolls-ci/secret-key"
                }
            ],
            "logConfiguration": {
                "logDriver": "awslogs",
                "options": {
                    "awslogs-stream-prefix": "arches",
                    "awslogs-group": "rascolls-ci-base-infrastructure-rascollscicontainerloggroupDB677B70-anD150zPxQEM",
                    "awslogs-region": "us-west-1"
                }
            }
        }
    ],
    "volumes": [],
    "networkMode": "awsvpc",
    "memory": "8192",
    "cpu": "4096",
    "executionRoleArn": "arn:aws:iam::408807229061:role/arches-execution-role-rascolls-ci",
    "family": "rascollscibaseinfrastructureesArchesTaskDefinition37367DA1",
    "taskRoleArn": "arn:aws:iam::408807229061:role/arches-task-role-rascolls-ci",
    "placementConstraints": []
}
